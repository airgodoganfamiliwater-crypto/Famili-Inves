<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2563eb">
<link rel="icon" href="ikon-512.png">
<title>Login Investor</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
:root{
  --bg:#e9eef5;
  --glass:rgba(255,255,255,0.55);
  --border:rgba(37,99,235,0.22);
  --text:#0f172a;
  --muted:#64748b;
  --primary:#2563eb;
}

body{
  margin:0;
  font-family:system-ui;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:
    radial-gradient(circle at top,#e0e7ff,#e9eef5);
  color:var(--text);
}

/* ================= LOGIN CARD ================= */
.card{
  width:320px;
  padding:28px 24px 30px;
  border-radius:18px;
  background:var(--glass);
  backdrop-filter:blur(18px);
  -webkit-backdrop-filter:blur(18px);
  border:1px solid var(--border);
  box-shadow:
    0 30px 60px rgba(37,99,235,.18),
    inset 0 1px 0 rgba(255,255,255,.6);
  text-align:center;
  animation:fadeUp .8s ease;
}

@keyframes fadeUp{
  from{
    opacity:0;
    transform:translateY(28px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}

/* ================= LOGO ================= */
.logo{
  width:78px;
  height:78px;
  border-radius:50%;
  object-fit:cover;
  margin-bottom:14px;
  border:3px solid rgba(37,99,235,.35);
  background:#fff;

  /* animasi mutar 360Â° sekali */
  animation:rotateOnce 1.4s ease-out forwards;
}

@keyframes rotateOnce{
  from{
    transform:rotate(0deg) scale(.85);
    opacity:0;
  }
  to{
    transform:rotate(360deg) scale(1);
    opacity:1;
  }
}

h3{
  margin:6px 0 20px;
  font-weight:600;
  letter-spacing:.3px;
}

/* ================= INPUT ================= */
input{
  width:100%;
  padding:12px 14px;
  margin-bottom:12px;
  border-radius:10px;
  border:1px solid #c7d2fe;
  background:rgba(255,255,255,.85);
  font-size:.95rem;
  outline:none;
}

input::placeholder{
  color:var(--muted);
}

input:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 3px rgba(37,99,235,.22);
}

/* ================= BUTTON ================= */
button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:linear-gradient(135deg,#2563eb,#1e40af);
  color:#fff;
  font-size:.95rem;
  font-weight:600;
  cursor:pointer;
  transition:.35s ease;
}

button:hover{
  transform:translateY(-1px);
  box-shadow:0 18px 40px rgba(37,99,235,.45);
}

/* ================= MESSAGE ================= */
small{
  display:block;
  margin-top:12px;
  font-size:.8rem;
  color:#dc2626;
}
</style>
</head>

<body>

<div class="card">
  <img src="logofw.png" class="logo" alt="Logo FAMILI WATER">

  <h3>Login Investor</h3>

  <input id="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">

  <button onclick="login()">Masuk</button>
  <small id="msg"></small>
</div>

<script>
const OPENSHEET_URL =
"https://opensheet.elk.sh/1RVV1PiXV27wBMNClhTEU8tu7w2y3cWJsaqsIIKzCUBo/Akun";

function login(){
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const msg = document.getElementById("msg");

  fetch(OPENSHEET_URL)
    .then(r=>r.json())
    .then(data=>{
      const cocok = data.find(d =>
        d.Email === email && d.Password === password
      );

      if(cocok){
        localStorage.setItem("login","true");
        localStorage.setItem("loginEmail", email);
        localStorage.setItem("loginPassword", password);
        window.location.href="index.html";
      }else{
        msg.textContent="Email atau password salah";
      }
    })
    .catch(()=>{
      msg.textContent="Gagal mengambil data";
    });
}
</script>
<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker
      .register("sw.js")
      .then(() => console.log("PWA Service Worker aktif"))
      .catch(err => console.log("SW gagal:", err));
  });
}
</script>
</body>
</html>